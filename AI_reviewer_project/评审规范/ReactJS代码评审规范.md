# ReactJS代码评审规范

## 1. 代码风格与格式

### 1.1 文件结构与命名
1. 组件文件是否使用 PascalCase 命名（如 `DocumentManager.jsx`）？
2. 工具函数和服务文件是否使用 camelCase 命名（如 `api.js`）？
3. 样式文件是否与组件文件同名（如 `App.css`）？
4. 文件夹结构是否清晰，按功能模块组织（如 `/components`、`/services`）？

### 1.2 代码格式
1. 是否使用一致的缩进（2 或 4 个空格）？
2. 是否使用分号结束语句？
3. 是否正确使用大括号、逗号和引号？
4. 是否遵循 ESLint 配置的代码规范？

### 1.3 导入与导出
1. 导入顺序是否合理（第三方库优先，然后是项目文件）？
2. 是否使用命名导入替代默认导入（如 `import { useState } from 'react'`）？
3. 是否避免导入未使用的模块？
4. 是否使用默认导出（`export default`）导出主组件？

## 2. 组件设计与实现

### 2.1 组件结构
1. 组件是否单一职责，功能清晰？
2. 是否避免过大的组件（超过 200 行代码）？
3. 是否将可复用逻辑提取为自定义 Hook？
4. 是否使用函数组件替代类组件？

### 2.2 JSX 编写
1. JSX 结构是否清晰，缩进合理？
2. 是否避免在 JSX 中编写复杂的表达式？
3. 是否为列表项添加唯一的 `key` 属性？
4. 是否使用 React.Fragment 替代不必要的 div 嵌套？

### 2.3 样式处理
1. 是否使用 CSS Modules 或 styled-components 避免样式冲突？
2. 是否优先使用内联样式处理动态样式？
3. 是否避免使用 `!important` 关键字？
4. 是否使用主题变量（如 Ant Design 的 token）保持样式一致性？

## 3. 状态管理

### 3.1 状态定义
1. 是否使用 `useState` 管理局部状态？
2. 是否使用 `useEffect` 处理副作用（如数据获取）？
3. 是否正确设置 `useEffect` 的依赖项？
4. 是否避免在组件顶层使用可变变量？

### 3.2 状态优化
1. 是否使用 `useCallback` 缓存回调函数？
2. 是否使用 `useMemo` 缓存计算结果？
3. 是否避免不必要的状态更新？
4. 是否使用状态提升管理共享状态？

## 4. API 交互

### 4.1 API 封装
1. 是否统一封装 API 请求（如使用 axios 实例）？
2. 是否设置合理的请求超时时间？
3. 是否实现请求和响应拦截器？
4. 是否将 API 按功能模块分组？

### 4.2 数据获取
1. 是否在 `useEffect` 中正确处理异步请求？
2. 是否实现加载状态（loading）？
3. 是否实现错误处理机制？
4. 是否避免在渲染过程中发起 API 请求？

## 5. 表单处理

### 5.1 表单实现
1. 是否使用表单库（如 Ant Design 的 Form）？
2. 是否实现表单验证逻辑？
3. 是否使用受控组件处理表单输入？
4. 是否正确设置表单初始值？

### 5.2 表单提交
1. 是否在提交前验证表单？
2. 是否禁用提交按钮防止重复提交？
3. 是否显示提交成功/失败的反馈？
4. 是否正确处理表单重置？

## 6. 性能优化

### 6.1 组件性能
1. 是否使用 React.memo 优化组件重渲染？
2. 是否避免在渲染过程中创建新对象或函数？
3. 是否使用虚拟滚动处理大量数据列表？
4. 是否实现懒加载（React.lazy 和 Suspense）？

### 6.2 资源优化
1. 是否按需导入第三方库？
2. 是否使用图片压缩和懒加载？
3. 是否避免不必要的网络请求？
4. 是否使用缓存机制减少重复请求？

## 7. 错误处理

### 7.1 全局错误处理
1. 是否实现全局错误边界（Error Boundary）？
2. 是否捕获并记录 JavaScript 错误？
3. 是否为用户提供友好的错误提示？
4. 是否避免在生产环境暴露详细错误信息？

### 7.2 局部错误处理
1. 是否使用 try-catch 捕获异步错误？
2. 是否处理 API 请求失败的情况？
3. 是否处理用户操作可能导致的错误？
4. 是否使用 Ant Design 的 message 组件显示错误信息？

## 8. 安全规范

### 8.1 输入验证
1. 是否对用户输入进行前端验证？
2. 是否防止 XSS 攻击（如使用 `dangerouslySetInnerHTML` 时的防护）？
3. 是否防止 CSRF 攻击？
4. 是否使用 HTTPS 协议传输数据？

### 8.2 数据安全
1. 是否避免在客户端存储敏感信息？
2. 是否使用 Token 认证机制？
3. 是否定期刷新认证 Token？
4. 是否实现权限控制逻辑？

## 9. 测试规范

### 9.1 单元测试
1. 是否为组件编写单元测试？
2. 是否使用 Jest 和 React Testing Library 进行测试？
3. 是否测试组件的不同状态和交互？
4. 是否达到合理的测试覆盖率？

### 9.2 集成测试
1. 是否编写集成测试验证组件间的交互？
2. 是否测试 API 调用和数据流转？
3. 是否使用模拟数据（mock data）进行测试？
4. 是否自动化测试流程？

## 10. 文档与注释

### 10.1 组件文档
1. 是否为公共组件编写文档？
2. 是否使用 JSDoc 注释描述组件的属性和功能？
3. 是否提供组件的使用示例？
4. 是否更新文档以反映代码变更？

### 10.2 代码注释
1. 是否为复杂逻辑添加注释？
2. 是否避免不必要的注释（如描述显而易见的代码）？
3. 是否使用清晰、简洁的注释语言？
4. 是否注释掉未使用的代码或 TODO 项？

## 11. 第三方库使用

### 11.1 库的选择
1. 是否选择稳定、维护良好的库？
2. 是否考虑库的大小和性能影响？
3. 是否避免过度依赖第三方库？
4. 是否使用官方推荐的库（如 Ant Design）？

### 11.2 库的使用
1. 是否正确使用库的 API？
2. 是否遵循库的最佳实践？
3. 是否保持库的版本一致？
4. 是否定期更新库到最新版本？

## 12. 国际化与本地化

### 12.1 文本处理
1. 是否避免硬编码的中文文本？
2. 是否使用国际化库（如 react-i18next）？
3. 是否将文本提取到单独的语言文件中？
4. 是否支持多语言切换？

### 12.2 日期与时间
1. 是否使用国际化的日期和时间格式？
2. 是否考虑时区问题？
3. 是否使用 Moment.js 或 Day.js 处理日期和时间？

## 13. 可访问性（A11y）

### 13.1 无障碍设计
1. 是否为表单元素添加标签（label）？
2. 是否使用语义化的 HTML 元素？
3. 是否为图片添加 alt 属性？
4. 是否支持键盘导航？

### 13.2 颜色与对比度
1. 是否确保文本与背景的对比度符合标准？
2. 是否避免仅使用颜色传达信息？
3. 是否支持高对比度模式？

## 14. 代码优化建议

### 14.1 常见问题
1. 是否避免使用 `console.log` 调试代码？
2. 是否避免使用 `setTimeout` 处理异步逻辑？
3. 是否避免在循环中使用 `setState`？
4. 是否正确处理组件卸载时的清理工作？

### 14.2 性能建议
1. 是否使用 Web Vitals 监控性能指标？
2. 是否使用代码分割减少初始加载时间？
3. 是否优化大型列表的渲染？
4. 是否使用 Service Worker 实现离线访问？

# 评审检查清单

| 评审项 | 是 | 否 | 备注 |
|--------|----|----|------|
| 文件结构与命名规范 |    |    |      |
| 代码格式符合规范 |    |    |      |
| 组件单一职责 |    |    |      |
| JSX 结构清晰 |    |    |      |
| 状态管理合理 |    |    |      |
| API 交互封装完善 |    |    |      |
| 表单处理规范 |    |    |      |
| 错误处理机制健全 |    |    |      |
| 性能优化措施到位 |    |    |      |
| 安全规范符合要求 |    |    |      |
| 测试覆盖率达标 |    |    |      |
| 文档与注释完整 |    |    |      |
| 第三方库使用合理 |    |    |      |
| 国际化支持 |    |    |      |
| 可访问性良好 |    |    |      |